'''
A module for generating MIDI scale notes. For simplicity's sake, I have chosen to represent only sharps. 
Bb is always A#, in other words.

modes:
    AEOLIAN
    BLUES
    CHROMATIC
    DIATONIC_MINOR
    DORIAN
    HARMONIC_MINOR
    INDIAN
    LOCRIAN
    LYDIAN
    MAJOR
    MELODIC_MINOR
    MINOR
    MIXOLYDIAN
    NATURAL_MINOR
    PENTATONIC
    PHRYGIAN
    TURKISH
dictionaries:
    scale_degrees: 0=tonic, 1=minor second, 2=major second, etc.
    c_scale_one_octave - first octave, starting at zero
    c_scales - all octaves, starting at zero
    keys - e.g. C, C#, D etc.
    midi_notes: Dict, note names are keys, numbers are values. C-2 = 0, C3 = 60 middle C, G8 = 127. 
    midi_numbers: same as midi_notes but keys/values are swapped 
functions:
    get_scale_notes(key = 'C', mode='MAJOR'), returns a list of all scale notes between 0 and 127
'''

scale_names = ['AEOLIAN', 'BLUES', 'CHROMATIC', 'DIATONIC_MINOR', 'DORIAN', 'HARMONIC_MINOR', 'INDIAN', 'LOCRIAN', 'LYDIAN', 'MAJOR', 'MELODIC_MINOR', 'MINOR', 'MIXOLYDIAN', 'NATURAL_MINOR', 'PENTATONIC', 'PHRYGIAN', 'TURKISH']

scale_degrees = {0:'tonic', 1:'minor_second', 2:'major_second', 3:'minor_third', 4:'major_third', 5:'perfect_fourth', 6:'tritone', 7:'perfect_fifth', 8:'minor_sixth', 9:'major_sixth', 10:'minor_seventh', 11:'major_seventh'}

c_scale_one_octave = {
    'AEOLIAN':[0, 2, 3, 5, 7, 8, 10],
    'BLUES':[0, 2, 3, 4, 5, 7, 9, 10, 11],
    'CHROMATIC':[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
    'DIATONIC_MINOR':[0, 2, 3, 5, 7, 8, 10],
    'DORIAN':[0, 2, 3, 5, 7, 9, 10],
    'HARMONIC_MINOR':[0, 2, 3, 5, 7, 8, 11],
    'INDIAN':[0, 1, 1, 4, 5, 8, 10],
    'LOCRIAN':[0, 1, 3, 5, 6, 8, 10],
    'LYDIAN':[0, 2, 4, 6, 7, 9, 10],
    'MAJOR':[0, 2, 4, 5, 7, 9, 11],
    'MELODIC_MINOR':[0, 2, 3, 5, 7, 8, 9, 10, 11],
    'MINOR':[0, 2, 3, 5, 7, 8, 10],
    'MIXOLYDIAN':[0, 2, 4, 5, 7, 9, 10],
    'NATURAL_MINOR':[0, 2, 3, 5, 7, 8, 10],
    'PENTATONIC':[0, 2, 4, 7, 9],
    'PHRYGIAN':[0, 1, 3, 5, 7, 8, 10],
    'TURKISH':[0, 1, 3, 5, 7, 10, 11]}

c_scales = {
    'AEOLIAN': [0, 2, 3, 5, 7, 8, 10, 12, 14, 15, 17, 19, 20, 22, 24, 26, 27, 29, 31, 32, 34, 36, 38, 39, 41, 43, 44, 46, 48, 50, 51, 53, 55, 56, 58, 60, 62, 63, 65, 67, 68, 70, 72, 74, 75, 77, 79, 80, 82, 84, 86, 87, 89, 91, 92, 94, 96, 98, 99, 101, 103, 104, 106, 108, 110, 111, 113, 115, 116, 118, 120, 122, 123, 125, 127],
    'BLUES': [0, 2, 3, 4, 5, 7, 9, 10, 11, 12, 14, 15, 16, 17, 19, 21, 22, 23, 24, 26, 27, 28, 29, 31, 33, 34, 35, 36, 38, 39, 40, 41, 43, 45, 46, 47, 48, 50, 51, 52, 53, 55, 57, 58, 59, 60, 62, 63, 64, 65, 67, 69, 70, 71, 72, 74, 75, 76, 77, 79, 81, 82, 83, 84, 86, 87, 88, 89, 91, 93, 94, 95, 96, 98, 99, 100, 101, 103, 105, 106, 107, 108, 110, 111, 112, 113, 115, 117, 118, 119, 120, 122, 123, 124, 125, 127],
    'CHROMATIC': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127],
    'DIATONIC_MINOR': [0, 2, 3, 5, 7, 8, 10, 12, 14, 15, 17, 19, 20, 22, 24, 26, 27, 29, 31, 32, 34, 36, 38, 39, 41, 43, 44, 46, 48, 50, 51, 53, 55, 56, 58, 60, 62, 63, 65, 67, 68, 70, 72, 74, 75, 77, 79, 80, 82, 84, 86, 87, 89, 91, 92, 94, 96, 98, 99, 101, 103, 104, 106, 108, 110, 111, 113, 115, 116, 118, 120, 122, 123, 125, 127],
    'DORIAN': [0, 2, 3, 5, 7, 9, 10, 12, 14, 15, 17, 19, 21, 22, 24, 26, 27, 29, 31, 33, 34, 36, 38, 39, 41, 43, 45, 46, 48, 50, 51, 53, 55, 57, 58, 60, 62, 63, 65, 67, 69, 70, 72, 74, 75, 77, 79, 81, 82, 84, 86, 87, 89, 91, 93, 94, 96, 98, 99, 101, 103, 105, 106, 108, 110, 111, 113, 115, 117, 118, 120, 122, 123, 125, 127],
    'HARMONIC_MINOR': [0, 2, 3, 5, 7, 8, 11, 12, 14, 15, 17, 19, 20, 23, 24, 26, 27, 29, 31, 32, 35, 36, 38, 39, 41, 43, 44, 47, 48, 50, 51, 53, 55, 56, 59, 60, 62, 63, 65, 67, 68, 71, 72, 74, 75, 77, 79, 80, 83, 84, 86, 87, 89, 91, 92, 95, 96, 98, 99, 101, 103, 104, 107, 108, 110, 111, 113, 115, 116, 119, 120, 122, 123, 125, 127],
    'INDIAN': [0, 1, 1, 4, 5, 8, 10, 12, 13, 13, 16, 17, 20, 22, 24, 25, 25, 28, 29, 32, 34, 36, 37, 37, 40, 41, 44, 46, 48, 49, 49, 52, 53, 56, 58, 60, 61, 61, 64, 65, 68, 70, 72, 73, 73, 76, 77, 80, 82, 84, 85, 85, 88, 89, 92, 94, 96, 97, 97, 100, 101, 104, 106, 108, 109, 109, 112, 113, 116, 118, 120, 121, 121, 124, 125],
    'LOCRIAN': [0, 1, 3, 5, 6, 8, 10, 12, 13, 15, 17, 18, 20, 22, 24, 25, 27, 29, 30, 32, 34, 36, 37, 39, 41, 42, 44, 46, 48, 49, 51, 53, 54, 56, 58, 60, 61, 63, 65, 66, 68, 70, 72, 73, 75, 77, 78, 80, 82, 84, 85, 87, 89, 90, 92, 94, 96, 97, 99, 101, 102, 104, 106, 108, 109, 111, 113, 114, 116, 118, 120, 121, 123, 125, 126],
    'LYDIAN': [0, 2, 4, 6, 7, 9, 10, 12, 14, 16, 18, 19, 21, 22, 24, 26, 28, 30, 31, 33, 34, 36, 38, 40, 42, 43, 45, 46, 48, 50, 52, 54, 55, 57, 58, 60, 62, 64, 66, 67, 69, 70, 72, 74, 76, 78, 79, 81, 82, 84, 86, 88, 90, 91, 93, 94, 96, 98, 100, 102, 103, 105, 106, 108, 110, 112, 114, 115, 117, 118, 120, 122, 124, 126, 127],
    'MAJOR': [0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23, 24, 26, 28, 29, 31, 33, 35, 36, 38, 40, 41, 43, 45, 47, 48, 50, 52, 53, 55, 57, 59, 60, 62, 64, 65, 67, 69, 71, 72, 74, 76, 77, 79, 81, 83, 84, 86, 88, 89, 91, 93, 95, 96, 98, 100, 101, 103, 105, 107, 108, 110, 112, 113, 115, 117, 119, 120, 122, 124, 125, 127],
    'MELODIC_MINOR': [0, 2, 3, 5, 7, 8, 9, 10, 11, 12, 14, 15, 17, 19, 20, 21, 22, 23, 24, 26, 27, 29, 31, 32, 33, 34, 35, 36, 38, 39, 41, 43, 44, 45, 46, 47, 48, 50, 51, 53, 55, 56, 57, 58, 59, 60, 62, 63, 65, 67, 68, 69, 70, 71, 72, 74, 75, 77, 79, 80, 81, 82, 83, 84, 86, 87, 89, 91, 92, 93, 94, 95, 96, 98, 99, 101, 103, 104, 105, 106, 107, 108, 110, 111, 113, 115, 116, 117, 118, 119, 120, 122, 123, 125, 127],
    'MINOR': [0, 2, 3, 5, 7, 8, 10, 12, 14, 15, 17, 19, 20, 22, 24, 26, 27, 29, 31, 32, 34, 36, 38, 39, 41, 43, 44, 46, 48, 50, 51, 53, 55, 56, 58, 60, 62, 63, 65, 67, 68, 70, 72, 74, 75, 77, 79, 80, 82, 84, 86, 87, 89, 91, 92, 94, 96, 98, 99, 101, 103, 104, 106, 108, 110, 111, 113, 115, 116, 118, 120, 122, 123, 125, 127],
    'MIXOLYDIAN': [0, 2, 4, 5, 7, 9, 10, 12, 14, 16, 17, 19, 21, 22, 24, 26, 28, 29, 31, 33, 34, 36, 38, 40, 41, 43, 45, 46, 48, 50, 52, 53, 55, 57, 58, 60, 62, 64, 65, 67, 69, 70, 72, 74, 76, 77, 79, 81, 82, 84, 86, 88, 89, 91, 93, 94, 96, 98, 100, 101, 103, 105, 106, 108, 110, 112, 113, 115, 117, 118, 120, 122, 124, 125, 127],
    'NATURAL_MINOR': [0, 2, 3, 5, 7, 8, 10, 12, 14, 15, 17, 19, 20, 22, 24, 26, 27, 29, 31, 32, 34, 36, 38, 39, 41, 43, 44, 46, 48, 50, 51, 53, 55, 56, 58, 60, 62, 63, 65, 67, 68, 70, 72, 74, 75, 77, 79, 80, 82, 84, 86, 87, 89, 91, 92, 94, 96, 98, 99, 101, 103, 104, 106, 108, 110, 111, 113, 115, 116, 118, 120, 122, 123, 125, 127],
    'PENTATONIC': [0, 2, 4, 7, 9, 12, 14, 16, 19, 21, 24, 26, 28, 31, 33, 36, 38, 40, 43, 45, 48, 50, 52, 55, 57, 60, 62, 64, 67, 69, 72, 74, 76, 79, 81, 84, 86, 88, 91, 93, 96, 98, 100, 103, 105, 108, 110, 112, 115, 117, 120, 122, 124, 127],
    'PHRYGIAN': [0, 1, 3, 5, 7, 8, 10, 12, 13, 15, 17, 19, 20, 22, 24, 25, 27, 29, 31, 32, 34, 36, 37, 39, 41, 43, 44, 46, 48, 49, 51, 53, 55, 56, 58, 60, 61, 63, 65, 67, 68, 70, 72, 73, 75, 77, 79, 80, 82, 84, 85, 87, 89, 91, 92, 94, 96, 97, 99, 101, 103, 104, 106, 108, 109, 111, 113, 115, 116, 118, 120, 121, 123, 125, 127],
    'TURKISH': [0, 1, 3, 5, 7, 10, 11, 12, 13, 15, 17, 19, 22, 23, 24, 25, 27, 29, 31, 34, 35, 36, 37, 39, 41, 43, 46, 47, 48, 49, 51, 53, 55, 58, 59, 60, 61, 63, 65, 67, 70, 71, 72, 73, 75, 77, 79, 82, 83, 84, 85, 87, 89, 91, 94, 95, 96, 97, 99, 101, 103, 106, 107, 108, 109, 111, 113, 115, 118, 119, 120, 121, 123, 125, 127]}

keys = {'C':0,'C#':1,'Db':1,'D':2,'D#':3,'Eb':3,'E':4,'F':5,'F#':6,'Gb':6,'G':7,'G#':8,'Ab':8,'A':9,'A#':10,'Bb':10,'B':11}

midi_notes = {'G8':127, 'F#8':126, 'F8':125, 'E8':124, 'D#8':123, 'D8':122, 'C#8':121, 'C8':120, 'B7':119, 'A#7':118, 'A7':117, 'G#7':116, 'G7':115, 'F#7':114, 'F7':113, 'E7':112, 'D#7':111, 'D7':110, 'C#7':109, 'C7':108, 'B6':107, 'A#6':106, 'A6':105, 'G#6':104, 'G6':103, 'F#6':102, 'F6':101, 'E6':100, 'D#6':99, 'D6':98, 'C#6':97, 'C6':96, 'B5':95, 'A#5':94, 'A5':93, 'G#5':92, 'G5':91, 'F#5':90, 'F5':89, 'E5':88, 'D#5':87, 'D5':86, 'C#5':85, 'C5 ':84, 'B4':83, 'A#4':82, 'A4':81, 'G#4':80, 'G4':79, 'F#4':78, 'F4':77, 'E4':76, 'D#4':75, 'D4':74, 'C#4':73, 'C4 ':72, 'B3':71, 'A#3':70, 'A3':69, 'G#3':68, 'G3':67, 'F#3':66, 'F3':65, 'E3':64, 'D#3':63, 'D3':62, 'C#3':61, 'C3':60, 'B2':59, 'A#2':58, 'A2':57, 'G#2':56, 'G2':55, 'F#2':54, 'F2':53, 'E2':52, 'D#2':51, 'D2':50, 'C#2':49, 'C2':48, 'B1':47, 'A#1':46, 'A1':45, 'G#1':44, 'G1':43, 'F#1':42, 'F1':41, 'E1':40, 'D#1':39, 'D1':38, 'C#1':37, 'C1':36, 'B0':35, 'A#0':34, 'A0':33, 'G#0':32, 'G0':31, 'F#0':30, 'F0':29, 'E0':28, 'D#0':27, 'D0':26, 'C#0':25, 'C0':24, 'B-1':23, 'A#-1':22, 'A-1':21, 'G#-1':20, 'G-1':19, 'F#-1':18, 'F-1':17, 'E-1':16, 'D#-1':15, 'D-1':14, 'C#-1':13, 'C-1':12, 'B-2':11, 'A#-2':10, 'A-2':9, 'G#-2':8, 'G-2':7, 'F#-2':6, 'F-2':5, 'E-2':4, 'D#-2':3, 'D-2':2, 'C#-2':1, 'C-2':0}

midi_numbers = {127:'G8', 126:'F#8', 125:'F8', 124:'E8', 123:'D#8', 122:'D8', 121:'C#8', 120:'C8', 119:'B7', 118:'A#7', 117:'A7', 116:'G#7', 115:'G7', 114:'F#7', 113:'F7', 112:'E7', 111:'D#7', 110:'D7', 109:'C#7', 108:'C7', 107:'B6', 106:'A#6', 105:'A6', 104:'G#6', 103:'G6', 102:'F#6', 101:'F6', 100:'E6', 99:'D#6', 98:'D6', 97:'C#6', 96:'C6', 95:'B5', 94:'A#5', 93:'A5', 92:'G#5', 91:'G5', 90:'F#5', 89:'F5', 88:'E5', 87:'D#5', 86:'D5', 85:'C#5', 84:'C5 ', 83:'B4', 82:'A#4', 81:'A4', 80:'G#4', 79:'G4', 78:'F#4', 77:'F4', 76:'E4', 75:'D#4', 74:'D4', 73:'C#4', 72:'C4 ', 71:'B3', 70:'A#3', 69:'A3', 68:'G#3', 67:'G3', 66:'F#3', 65:'F3', 64:'E3', 63:'D#3', 62:'D3', 61:'C#3', 60:'C3', 59:'B2', 58:'A#2', 57:'A2', 56:'G#2', 55:'G2', 54:'F#2', 53:'F2', 52:'E2', 51:'D#2', 50:'D2', 49:'C#2', 48:'C2', 47:'B1', 46:'A#1', 45:'A1', 44:'G#1', 43:'G1', 42:'F#1', 41:'F1', 40:'E1', 39:'D#1', 38:'D1', 37:'C#1', 36:'C1', 35:'B0', 34:'A#0', 33:'A0', 32:'G#0', 31:'G0', 30:'F#0', 29:'F0', 28:'E0', 27:'D#0', 26:'D0', 25:'C#0', 24:'C0', 23:'B-1', 22:'A#-1', 21:'A-1', 20:'G#-1', 19:'G-1', 18:'F#-1', 17:'F-1', 16:'E-1', 15:'D#-1', 14:'D-1', 13:'C#-1', 12:'C-1', 11:'B-2', 10:'A#-2', 9:'A-2', 8:'G#-2', 7:'G-2', 6:'F#-2', 5:'F-2', 4:'E-2', 3:'D#-2', 2:'D-2', 1:'C#-2', 0:'C-2'}

def get_scale_notes(key = 'C', mode='MAJOR'):
    '''
    get scale note numbers for a given mode and key. Returns a list.
    keys: 'C','C#','Db','D','D#','Eb','E','F','F#','Gb','G','G#','Ab','A','A#','Bb','B'
    modes:
        AEOLIAN
        BLUES
        CHROMATIC
        DIATONIC_MINOR
        DORIAN
        HARMONIC_MINOR
        INDIAN
        LOCRIAN
        LYDIAN
        MAJOR
        MELODIC_MINOR
        MINOR
        MIXOLYDIAN
        NATURAL_MINOR
        PENTATONIC
        PHRYGIAN
        TURKISH
    '''
    shift = keys[key]
    scale = [note + shift for note in c_scales[mode] if (note + shift) <= 127]
    return scale
    
if __name__ == '__main__':
    test = get_scale_notes('G', 'MIXOLYDIAN')
    print(test)